trigger:
- master

pool:
  vmImage: 'ubuntu-latest'

steps:

- task: "Docker@2"
  displayName: "Login to Docker Hub"
  inputs:
    command: "login"
    containerRegistry: "Docker"

- task: Docker@2
  displayName: "Build & Push"
  inputs:
    command: "buildAndPush"
    containerRegistry: "Docker"
    repository: "AzureDevOpsBuild"
    tags: |
      "tag1"
      "tag2"

- task: "Docker@2"
  displayName: "Log out of Docker Hub"
  inputs:
    command: "login"
    containerRegistry: "Docker"
